<!DOCTYPE html>
<html>

<head>
    <!--Import Google Icon Font-->
    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css" media="screen,projection" />

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<body class="teal lighten-4">
    <div>
        <h2 class="center card-panel grey lighten-1 black-text text-black"><a href="/login">EAT SHIT AND DIE!</a></h2>
    </div>

    <div class="row">
        <form class="col s6 push-s3" id="regform" onSubmit="Javascript:sendFormData()" method="post">
            <div class="row">
                <div class="input-field col s12">
                    <input id="first" type="text" name="first" class="validate">
                    <label for="first_name">First Name</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <input id="last" type="text" name="last" class="validate">
                    <label for="last_name">Last Name</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <input id="email" type="email" name="email" alt="" class="validate">
                    <label for="email" name="email">Email</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <input id="password" type="password" name="password" class="validate">
                    <label for="password" name="password">Password</label>
                </div>
            </div>
            <div class="col s6 push-s3">
                <button id="btn-register" class="btn waves-effect waves-light">Register <i class="material-icons right">send</i>
                </button>
            </div>
        </form>
    </div>

    <!--Import jQuery before materialize.js-->
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="js/materialize.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script>
        function sendFormData(event) {
            //event.preventDefault();
            // let formData = JSON.stringify($("#regform").serializeArray());
            // console.log("HERE IS THE FORM DATA", formData)
            var myURL = '/register';
            var myData = {
                name: 'test',
                pass: 'passtest'
            };
            var success = function(data) {
                console.log("POST got data:", data);
            };
            console.log("POSTING TO ", myURL)

            $.post(myURL, myData, success);
        }

         $('#btn-register').click(sendFormData);
    </script>
</body>

</html>
